# name: macroexpand-all
# key: me
# type: command
#
# Wraps the proceeding list in the from:
#
#   (macroexpand-all LIST)
#
# and also quotes the list.
# --
(cond ((looking-at " *\(")
       (insert "(macroexpand-all)")
       (delete-horizontal-space)
       (backward-char)
       (paredit-forward-slurp-sexp)
       (insert " '"))
      (t
       (insert "(macroexpand-all ')")
       (backward-char)))